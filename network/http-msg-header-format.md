# π”— HTTP Request/Reponse Header ν¬λ©§

<br>

## π HTTP κ³µν†µ ν—¤λ”

### π‘‰ Cache-Control
* μΊμ‹± μ •μ±…μ„ μ •ν•λ” ν—¤λ”
* μμ‹
  * Cache-Control: no-store (μΊμ‹ μ„λ²„μ— μ»¨ν…μΈ λ¥Ό μ €μ¥ν•μ§€ μ•μ)
  * Cache-Control: no-cache (μΊμ‹λ¥Ό μ‚¬μ©ν•κΈ° μ „μ— μ„λ²„μ— μΊμ‹λ¥Ό μ‚¬μ©ν•΄λ„ λλ”μ§€ μ¬κ²€μ¦ μ”μ²­)
  * Cache-Control: public, max-age=3600 (κ³µμ  μΊμ‹μ— μ €μ¥, μΊμ‹μ μ ν¨μ‹κ°„μ€ 3600μ΄)

### π‘‰ Connection
* ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ—°κ²°κ³Ό κ΄€ν• μ •λ³΄λ¥Ό μ§€μ •ν•λ” ν—¤λ”
* μμ‹
  * Connection: keep-Alive (ν„μ¬ TCP μ—°κ²°μ„ μ μ§€)

### π‘‰ Date
* λ©”μ„Έμ§€κ°€ μƒμ„±λ μ‹κ°„ μ •λ³΄
* μλ™μΌλ΅ μƒμ„±λ¨

### π‘‰ Pragma
* HTTP/1.1 μ΄μ „μ— μ‚¬μ©, HTTP/1.1μ Cache-Controlκ³Ό λ™μΌν• μ—­ν• μ„ ν•λ” ν—¤λ”
* μμ‹) 
  * Pragma: no-cache (Cache-Control: no-cacheμ™€ κ°™μ)
    * μΊμ‹ μ„λ²„μ— μ»¨ν…μΈ κ°€ μμ–΄λ„ μ‹¤μ  μ›Ή μ„λ²„μ—μ„ μ»¨ν…μΈ λ¥Ό λ°›μ

### π‘‰ Via
* ν”„λ΅μ‹ μ„λ²„μ μ •λ³΄λ¥Ό μ•λ ¤μ¤„ λ• μ‚¬μ©ν•λ” ν—¤λ”
* μ”μ²­μ΄ κ±°μ²κ°„ ν”„λ΅μ‹ μ„λ²„μ κ²½λ΅λ¥Ό μ•μ μμ

### π‘‰ Transfer-Encoding
* μ»¨ν…μΈ λ¥Ό λ¶„ν• ν•μ—¬ μ „μ†΅ν•λ” Chuncked μ „μ†΅ λ°©μ‹μ„ μ΄μ©ν•  λ•, μ£Όλ΅ μ‚¬μ©λλ” ν—¤λ”
* μ„λ²„μ—μ„ μ „μ†΅ν•κ³ μ ν•λ” μμ›μ ν¬κΈ°κ°€ ν¬λ©΄ μ΄λ¥Ό λ¶„ν• ν•μ—¬ μ „μ†΅ν•¨
* μμ›μ„ ν• λ²μ— μ²λ¦¬ν•  λ•λ” Content-Lengthλ¥Ό μ΄μ©ν•μ§€λ§ λ¶„ν• ν•μ—¬ μ „μ†΅ν•  λ•μ—λ” Transfer-Encodingμ„ μ΄μ©ν•¨
* μμ‹
  * Transfer-Encoding: Chunked

### π‘‰ Upgrade
* ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ ν†µμ‹  ν”„λ΅ν† μ½μ„ λ°”κΏ€ λ•, μ‚¬μ©ν•λ” ν—¤λ”
* μƒλ΅μ΄ HTTP λ²„μ „μ„ μ‚¬μ©ν•κ±°λ‚ μ•”νΈν™” ν”„λ΅ν† μ½μ„ λ³€κ²½ν•λ” κ²½μ°

### π‘‰ Warning
* μΌ€μ‹ μ„λ²„μ λ¬Έμ λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ¦¬λ” μ©λ„λ΅ μ‚¬μ©λλ” ν—¤λ”

### π‘‰ Trailer
* μ„λ²„κ°€ Chuncked μ „μ†΅ λ°©μ‹μ„ μ΄μ©ν•  λ•, μ‚¬μ©ν•  μ μλ” ν—¤λ”
* λ©”μ‹μ§€μ Body λ λ¶€λ¶„μ— μ¬ HTTP Headerλ¥Ό μ§€μ •
* μμ‹
  * Trailer: Expires (λ©”μ‹μ§€μ Body λ λ¶€λ¶„μ— Expires ν—¤λ”μ λ‚΄μ©μ΄ μ¶”κ°€)

<br>

## π HTTP Request ν—¤λ”

### π‘‰ Accept
* ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμΌλ΅ λ°›μ„ μ μλ” λ―Έλ””μ–΄ νƒ€μ…μ„ μ§€μ •ν•λ” κ²ƒμ— μ‚¬μ©
* μμ‹
  * Accept: */* (type / sub type)

### π‘‰ Accept-Charset
* ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμΌλ΅ λ°›μ„ μ μλ” λ¬Έμ μ§‘ν•©(λ¬Έμ μΈμ½”λ”©)μ„ μ§€μ •ν•λ” κ²ƒμ— μ‚¬μ©
* μμ‹
  * Accept-Charset: utf-8

### π‘‰ Accept-Encoding
* ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμΌλ΅ λ°›μ„ μ μλ” μ••μ¶•λ°©μ‹μ„ μ§€μ •ν•λ” κ²ƒμ— μ‚¬μ©
* μμ‹
  * Accept-Encoding: * (compress, gzip λ“±)

### π‘‰ Accept-Language
* ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμΌλ΅ λ°›κΈ°λ¥Ό μ›ν•λ” μ–Έμ–΄λ¥Ό μ„ νƒν•  λ• μ‚¬μ©
* μμ‹
  * Accept-Language: ko, en-US

### π‘‰ Authorization
* JWT, Bearer λ“± μΈμ¦ ν† ν°μ„ μ„λ²„λ΅ μ „μ†΅ν•  λ• μ‚¬μ©
* μμ‹
  * Authorization: ν† ν°-μΆ…λ¥ μ‹¤μ -ν† ν°-λ¬Έμ

### π‘‰ Expect
* ν΄λΌμ΄μ–ΈνΈμ— μν•΄ μ„λ²„μ—μ„ νΉμ • μ‘μ—…μ΄ μ”κµ¬λ  λ•, κ·Έ μ‘μ—…μ„ λ‚νƒ€λ‚΄κΈ° μ„ν•΄ μ‚¬μ©
* μ„λ²„κ°€ κΈ°λ€ κ°’μ„ λ§μ΅±μ‹ν‚¬ μ μ—†λ‹¤λ©΄ 4XX μ—λ¬ λ°μƒ

### π‘‰ From
* ν΄λΌμ΄μ–ΈνΈμ μ΄λ©”μΌ μ£Όμ†

### π‘‰ Host
* μ„λ²„μ λ„λ©”μΈμ΄λ¦„κ³Ό ν¬νΈλ¥Ό μ§€μ •
* μ”μ²­μ—λ” λ°λ“μ‹ ν•λ‚μ Host ν•„λ“κ°€ μ΅΄μ¬ν•΄μ•Ό ν•¨

### π‘‰ User-Agent
* ν΄λΌμ΄μ–ΈνΈμ μ •λ³΄(λΈλΌμ°μ €, OS λ“±)λ¥Ό ν¬ν•¨
* ν†µκ³„λ¥Ό λ©μ μΌλ΅ μ‚¬μ©

### π‘‰ Referer
* ν„μ¬ νμ΄μ§€ μ΄μ „μ νμ΄μ§€ μ£Όμ† μ •λ³΄
* μ–΄λ–¤ νμ΄μ§€λ¥Ό κ±°μ³ μ§€κΈμ νμ΄μ§€λ΅ μ™”λ”μ§€ μ• μ μμ

### π‘‰ If-Modified-Since
* μ μ‹λ μ‹κ°„ μ΄ν›„μ— νμΌ λ³€κ²½ β†’ μ„λ²„λ” νμΌμ„ λ°ν™ν•κ³  `200 OK`λ΅ μ‘λ‹µ
* μ μ‹λ μ‹κ°„ μ΄ν›„μ— νμΌμ΄ λ³€κ²½λμ§€ μ•μ β†’ μ„λ²„λ” νμΌμ„ λ°ν™ν•μ§€ μ•κ³  `304 Not Modified`λ΅ μ‘λ‹µ(ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹μ—μ„ νμΌμ„ κ°€μ Έμ΄)

### π‘‰ If-Unmodified-Since
* μ μ‹λ μ‹κ°„ μ΄ν›„μ— νμΌ λ³€κ²½ β†’ μ„λ²„λ” μ”μ²­μ„ μν–‰ν•μ§€ μ•κ³  412 Precondition Failedλ΅ μ‘λ‹µ
* μ μ‹λ μ‹κ°„ μ΄ν›„μ— νμΌμ΄ λ³€κ²½λμ§€ μ•μ β†’ μ„λ²„λ” νμΌμ„ λ°ν™ν•κ³  200 OKλ΅ μ‘λ‹µ

### π‘‰ If-Match
* μ„λ²„μ— μ΅΄μ¬ν•λ” λ¦¬μ†μ¤μ ETagκ°€ μ”μ²­μ If-Matchμ κ°’κ³Ό μΌμΉν•λ©΄ 200 OKλ΅ μ‘λ‹µ
* μ„λ²„μ— μ΅΄μ¬ν•λ” λ¦¬μ†μ¤μ ETagκ°€ μ”μ²­μ If-Matchμ κ°’κ³Ό λ‹¤λ¥΄λ©΄ 412 Precondition Failedλ΅ μ‘λ‹µ

### π‘‰ If-None-Match
* μ„λ²„μ— μ΅΄μ¬ν•λ” λ¦¬μ†μ¤μ ETagκ°€ μ”μ²­μ If-None-Matchμ κ°’κ³Ό λ‹¤λ¥΄λ©΄ 200 OKλ΅ μ‘λ‹µ
* μ„λ²„μ— μ΅΄μ¬ν•λ” λ¦¬μ†μ¤μ ETagκ°€ μ”μ²­μ If-None-Matchμ κ°’κ³Ό μΌμΉν•λ©΄ 304 Not Modifiedλ΅ μ‘λ‹µ
* If-Modified-Sinceλ” μ‹κ°„ μ •λ³΄λ¥Ό μ΄μ©ν•΄ μ •ν™•μ„±μ΄ λ³΄μ¥λμ§€ μ•μ„ μ μμΌλ‚, If-None-Matchλ” ETag μ •λ³΄λ¥Ό μ΄μ©ν•΄ λ¦¬μ†μ¤ λ³€κ²½ μ—¬λ¶€λ¥Ό μ •ν™•ν•κ² μ• μ μμ

### π‘‰ Range
* μ»¨ν…μΈ μ μΌλ¶€λ¥Ό μ”μ²­ν•  κ²½μ°, κ·Έ λ²”μ„λ¥Ό μ§€μ •ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” ν—¤λ”
* νΉμ • νμΌμ„ λ‹¤μ΄λ°›λ‹¤κ°€ μ¤λ¥κ°€ λ°μƒν•μ—¬ λ‹¤μ‹ μ”μ²­ν•μ—¬ λ‹¤μ΄λ°›λ” κ²½μ° λ“±μ— μ‚¬μ©
* μ›Ήμ„λ²„λ” 206 Partial Contentλ΅ μ‘λ‹µ

### π‘‰ If-Range
* μΊμ‹μ™€ κ΄€λ ¨λ ν—¤λ”λ΅ μ”μ²­ν•λ” μμ›μ ETag μ •λ³΄λ¥Ό λ‚νƒ€λƒ„
* νΉμ • μμ›μ μΌλ¶€λ¥Ό μ”μ²­ν• λ’¤, μΌμ • μ‹κ°„μ΄ν›„μ— λ‹¤μ‹ μ”μ²­ν•  κ²½μ°μ— ν•΄λ‹Ή μμ›μ΄ μ—¬μ „ν μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©
* ν΄λΌμ΄μ–ΈνΈλ” IF-Rangeμ™€ Range ν—¤λ”λ¥Ό μ§€μ •ν•μ—¬ μ”μ²­ β†’ μμ›μ΄ λ³€κ²½ β†’ 206 Partial Contentλ΅ μ‘λ‹µ, Rangeμ— ν•΄λ‹Ήν•λ” μμ›λ§ λ°ν™
* ν΄λΌμ΄μ–ΈνΈλ” IF-Rangeμ™€ Range ν—¤λ”λ¥Ό μ§€μ •ν•μ—¬ μ”μ²­ β†’ μμ›μ΄ λ³€κ²½λμ§€ μ•μ β†’ 200 OKλ΅ μ‘λ‹µ, μƒλ΅μ΄ μμ› μ „μ²΄λ¥Ό λ°ν™

### π‘‰ Max-Forwards
* μ”μ²­μ΄ μ—¬λ¬ ν”„λ΅μ‹ μ„λ²„λ¥Ό κ±°μΉ  λ•, λ„¤νΈμ›ν¬ μ¤λ¥μ μ›μΈμ„ μ°Ύλ”λ° λ„μ›€μ„ μ¤„ μ μλ” ν—¤λ”
* Max-Forwards ν—¤λ”μ κ°’μ€ μ •μλ΅, ν”„λ΅μ‹ μ„λ²„λ¥Ό κ±°μΉλ©° 1μ”© κ°μ† β†’ κ°’μ΄ 0μΈ λ©”μ‹μ§€λ¥Ό λ°›μ€ ν”„λ΅μ‹ μ„λ²„κ°€ μ‘λ‹µ

### π‘‰ Proxy-Authorization
* ν¬μ›λ“ ν”„λ΅μ‹ ν™κ²½μ—μ„ μ‚¬μ©λλ” ν—¤λ”
* ν”„λ΅μ‹ μ„λ²„
* ν¬μ›λ“ ν”„λ΅μ‹: ν΄λΌμ΄μ–ΈνΈμ μΈν„°λ„· μ ‘μ† λ³΄μ•
* λ¦¬λ²„μ¤ ν”„λ΅μ‹: μ›Ή μ„λ²„ μ„±λ¥ ν–¥μƒ

### π‘‰ TE
* ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” Transfer-Encoding(μ „μ†΅ μΈμ½”λ”©) λ°©μ‹μ„ μ„λ²„μ—κ² μ•λ¦¬κΈ° μ„ν•΄ μ‚¬μ©
* μμ‹
  * TE: Trailers (Chucked λ°©μ‹μ„ μ§€μ›)

<br>

## π HTTP Response ν—¤λ”

### π‘‰ Location
* μ‘λ‹µ μ½”λ“κ°€ 3XX, 201μΌ κ²½μ°μ— λ³Ό μ μλ” ν—¤λ”
* μ”μ²­λ μμ›μ μ„μΉλ¥Ό μ•λ ¤μ¤ (λ¦¬λ‹¤μ΄λ ‰νΈ)

### π‘‰ Age
μΊμ‹ μ‘λ‹µμ—μ„ λ‚νƒ€λ” ν—¤λ”
* max-age μ‹κ°„μ—μ„ μ‹κ°„μ΄ μ–Όλ§λ‚ νλ €λ”μ§€λ¥Ό μ΄ λ‹¨μ„λ΅ μ•λ ¤μ¤

### π‘‰ ETag
* μμ›μ΄ λ³€κ²½λμ—λ”μ§€λ¥Ό κ²€μ‚¬ν•  μ μλ” ν—¤λ”
* μμ›μ μ‹λ³„ λ³€νΈ

### π‘‰ Server
* μ„λ²„μ μ •λ³΄λ¥Ό λ‚νƒ€λ‚΄λ” ν—¤λ” (HTTP SW λ²„μ „ μ •λ³΄)

### π‘‰ Accept-Ranges
* μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ Range ν—¤λ”λ¥Ό μ²λΌν•  μ μλ”μ§€ μ•λ ¤μ£Όλ” ν—¤λ”
* μμ‹
  * Accept-Range: bytes (Range μ²λ¦¬ κ°€λ¥)
  * Accept-Range: none (Range μ²λ¦¬ λ¶κ°€)

### π‘‰ Vary
* μΊμ‹μ„λ²„μ—κ² μΊμ‹±μ •μ±…μ„ κ°€μ΄λ“ν•  μ μλ” ν—¤λ”
* User-Agent λ“± HTTP μ”μ²­μ ν—¤λ” μ΄λ¦„μ„ μ‚¬μ©
* μμ‹
  * Vary: User-Agent (μΊμ‹±ν•κ³  μλ” μ»¨ν…μΈ μ μµμ΄ User-Agent μ •λ³΄κ°€ μΌμΉν•μ§€ μ•μΌλ©΄ μΊμ‹±λ μ»¨ν…μΈ λ¥Ό μ „λ‹¬ν•μ§€ μ•μ)

### π‘‰ Retry-After
* μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ¬ μ ‘μ† λ©”μ‹μ§€λ¥Ό μ „λ‹¬ν•  λ• μ‚¬μ©ν•λ” ν—¤λ”
* μ›Ή λΈλΌμ°μ €(IE, Chrome, MS Edge λ“±)λ” Retry-After ν—¤λ”λ¥Ό λ¬΄μ‹

### π‘‰ WWW-Authenticate
* ν—κ°€λ ν΄λΌμ΄μ–ΈνΈμ—κ²λ§ μ»¨ν…μΈ λ¥Ό μ κ³µν•΄μ•Ό ν•  λ• μ‚¬μ©
* μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μΈμ¦ν•  κ²½μ°μ— μ‚¬μ©

### π‘‰ Proxy-Authenticate
* ν—κ°€λ ν΄λΌμ΄μ–ΈνΈμ—κ²λ§ μ»¨ν…μΈ λ¥Ό μ κ³µν•΄μ•Ό ν•  λ• μ‚¬μ©
* ν”„λ΅μ‹ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μΈμ¦ν•  κ²½μ°μ— μ‚¬μ©

<br>

## π X-Forwarded-For (XFF)

### π‘‰ μ •μ
* HTTP Header μ¤‘ ν•λ‚λ΅ HTTP Serverμ— μ”μ²­ν• Clientμ IPλ¥Ό μ‹λ³„ν•κΈ° μ„ν• ν‘μ¤€
* μ›Ή μ„λ²„ μ•μ— Load balancer, Proxy μ„λ²„, Cashing μ„λ²„ λ“±μ΄ μλ” κ²½μ° μ›Ή μ„λ²„λ” μ„λ²„μ— μ ‘κ·Όν• μ£Όμ²΄λ¥Ό Proxy μ„λ²„μ™€ κ°™μ€ μ¥λΉ„λ΅ μΈμ‹μ„ ν•κ² λλ”λ°, XFFλ¥Ό μ‚¬μ©ν•λ©΄ μ‹¤μ  ν΄λΌμ΄μ–ΈνΈμ IPμ£Όμ†λ¥Ό μ• μ μμ
* "X-"λ΅ μ‹μ‘ν•λ” ν—¤λ”
  * μμ „μ— μ‚¬μ©μκ°€ μ„μλ΅ μ •μν• ν—¤λ”λ¥Ό μ‚¬μ©ν•  λ•, "X-"λ¥Ό μ•μ— μ¶”κ°€, 2012λ…„ μ΄ν›„λ΅λ” μ‚¬μ©μ μ •μ ν—¤λ”μ— "X-"λ¥Ό λ¶™μ΄μ§€ μ•μ•„λ„ λ¨
  * ν•μ§€λ§ λ§μ΄ μ‚¬μ©ν•λ©΄μ„ "X-"κ°€ λ¶™μ€ κ²ƒμ΄ ν‘μ¤€μ΄ λ¨

### π‘‰ μ‚¬μ© λ°©λ²•
* XFFμ—μ„ μ²« λ²μ§Έ ν•­λ©μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ IPλ¥Ό μ• μ μμ
* ν”„λ΅μ‹ μ„λ²„μ IPλ” λ©”μ‹μ§€κ°€ μ§€λ‚μ¨ μ„λ²„μ μμ„λ€λ΅ λ‚μ—΄

```
X-Forwarded-For: client, proxy1, proxy2
```
